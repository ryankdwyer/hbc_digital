{"version":3,"sources":["gameState.service.js"],"names":[],"mappings":"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","file":"gameState.service-compiled.js","sourcesContent":["'use strict';\napp.service('GameState', function() {\n  this.gameStarted = false;\n  this.cards = [1,2,3,4,5,6,7,8,9];\n  this.dieValues = {one: 0, two: 0};\n  this.validCards = [];\n  this.cardsToRemove = [];\n\n  this.buildValidCards = () => {\n    var powerSet = this.buildPowerSet();\n    var value = this.dieValues.one + this.dieValues.two;\n    this.validCards = powerSet.filter(function(set) {\n      if (set[0] > value) return false;\n      return value === set.reduce(function(prev, next) {\n          return prev + next;\n        }, 0)\n    });\n  };\n\n  this.buildPowerSet = () => {\n    if (this.cards.length === 1) return [this.cards[0]];\n    var powerSet = [[]];\n    for (var i = 0; i < this.cards.length; i++) {\n      for (var j = 0, len = powerSet.length; j < len; j++) {\n        powerSet.push(powerSet[j].concat(this.cards[i]));\n      }\n    }\n    return powerSet;\n  };\n\n  this.removeCards = (cards) => {\n    for (var i = 0; i < cards.length; i++) {\n      this.cards.splice(cards[i] - 1, 1, '');\n    }\n  };\n\n  this.getCardsLeft = () => {\n    return this.cards;\n  };\n\n  this.getDieValues = () => {\n    return this.dieValues;\n  };\n\n  this.getValidChoices = () => {\n    return this.validCards;\n  };\n\n  this.getGameState = () => {\n    return this.gameStarted;\n  };\n\n  this.reset = () => {\n    this.gameStarted = false;\n    this.cards = [1,2,3,4,5,6,7,8,9];\n    this.dieValues = {one: 0, two: 0};\n    this.validCards = [];\n    this.cardsToRemove = [];\n  };\n});"]}